"use strict";const CONTACT_EMAIL="ekrembulgan2@gmail.com",STORAGE={lang:"eb_lang",theme:"eb_theme",fx:"eb_fx",anime:"eb_anime"},$=(t,e=document)=>e.querySelector(t),$$=(t,e=document)=>Array.from(e.querySelectorAll(t));let currentLang="tr";function rafThrottle(t){let e=!1;return(...n)=>{e||(e=!0,requestAnimationFrame(()=>{e=!1;try{t(...n)}catch{}}))}}function showToast(t){let e=$("#toast");e||(e=document.createElement("div"),e.id="toast",e.className="toast",document.body.appendChild(e)),e.textContent=t,e.classList.add("is-visible"),showToast._t&&window.clearTimeout(showToast._t),showToast._t=window.setTimeout(()=>e.classList.remove("is-visible"),2400)}async function copyToClipboard(t){try{return await navigator.clipboard.writeText(t),!0}catch{try{const e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.left="-9999px",document.body.appendChild(e),e.select();const n=document.execCommand("copy");return document.body.removeChild(e),n}catch{return!1}}}function langValue(t,e=""){return null==t?e:"string"==typeof t?t:"object"==typeof t&&(t[currentLang]||t.tr||t.en)||e}function makeSlug(t){return String(t||"").toLowerCase().trim().replace(/[^a-z0-9\s-_]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").slice(0,60)}const BASE=(()=>{const t=(location.pathname||"/").split("?")[0].split("/").filter(Boolean),e=(t[t.length-1]||"").includes(".")?Math.max(0,t.length-1):t.length;return e<=0?"":"../".repeat(e)})(),__jsonCache=new Map;async function fetchJSON(t){const e=BASE+t;if(__jsonCache.has(e))return __jsonCache.get(e);const n=fetch(e,{cache:"force-cache"}).then(t=>{if(!t.ok)throw new Error(`Failed to fetch ${e} (${t.status})`);return t.json()}).catch(t=>(console.warn("fetchJSON error:",t),null));return __jsonCache.set(e,n),n}function formatDate(t){if(!t)return"";const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleDateString("tr"===currentLang?"tr-TR":"en-US",{year:"numeric",month:"short",day:"2-digit"})}function setLanguage(t){currentLang="en"===t?"en":"tr",document.documentElement.lang=currentLang,localStorage.setItem(STORAGE.lang,currentLang);const e=$("#lang-btn");e&&(e.textContent="tr"===currentLang?"EN":"TR"),$$("[data-tr][data-en]").forEach(t=>{const e="tr"===currentLang?t.getAttribute("data-tr"):t.getAttribute("data-en");null!=e&&(t.textContent=e)}),$$("[data-tr-placeholder][data-en-placeholder]").forEach(t=>{const e="tr"===currentLang?t.getAttribute("data-tr-placeholder"):t.getAttribute("data-en-placeholder");null!=e&&t.setAttribute("placeholder",e)}),$$("[data-tr-aria][data-en-aria]").forEach(t=>{const e="tr"===currentLang?t.getAttribute("data-tr-aria"):t.getAttribute("data-en-aria");null!=e&&t.setAttribute("aria-label",e)}),rerenderDynamic()}function toggleLanguage(){setLanguage("tr"===currentLang?"en":"tr")}function initLanguage(){const t=$("#lang-btn");t&&t.addEventListener("click",toggleLanguage)}function setTheme(t){const e="light"===t?"light":"dark";document.documentElement.dataset.theme=e,localStorage.setItem(STORAGE.theme,e);const n=$("#theme-btn i");n&&(n.className="dark"===e?"fa-solid fa-moon":"fa-solid fa-sun"),window.EBFX&&"function"==typeof window.EBFX.set&&window.EBFX.set({enabled:document.body.classList.contains("fx-on"),anime:document.body.classList.contains("anime-on")})}function toggleTheme(){setTheme("dark"===(document.documentElement.dataset.theme||"dark")?"light":"dark")}function initTheme(){const t=$("#theme-btn");t&&t.addEventListener("click",toggleTheme)}function setActiveNav(){const t=(location.pathname||"").toLowerCase(),e=(t.split("/").pop()||"index.html").toLowerCase()||"index.html",n=t.includes("/projects/"),a=t.includes("/blog/");$$(".nav-links a").forEach(t=>{const o=((t.getAttribute("href")||"").toLowerCase().split("/").pop()||"").toLowerCase();let s=o===e||"index.html"===e&&(""===o||"/"===o);!s&&n&&"projects.html"===o&&(s=!0),!s&&a&&"blog.html"===o&&(s=!0),t.classList.toggle("active",s)})}function initNav(){const t=$("#menu-btn");if(!t)return;const e=()=>{document.body.classList.remove("nav-open"),t.setAttribute("aria-expanded","false")};t.addEventListener("click",e=>{e.stopPropagation(),(()=>{const e=document.body.classList.toggle("nav-open");t.setAttribute("aria-expanded",e?"true":"false")})()}),$$(".nav-links a").forEach(t=>t.addEventListener("click",e)),document.addEventListener("click",t=>{if(!document.body.classList.contains("nav-open"))return;const n=$(".nav");n&&!n.contains(t.target)&&e()}),document.addEventListener("keydown",t=>{"Escape"===t.key&&e()})}function initScrollProgress(){const t=$("#progress-bar");if(!t)return;const e=()=>{const e=document.documentElement,n=e.scrollTop||document.body.scrollTop,a=e.scrollHeight-e.clientHeight,o=a>0?n/a*100:0;t.style.width=`${o}%`},n=rafThrottle(e);e(),window.addEventListener("scroll",n,{passive:!0}),window.addEventListener("resize",n,{passive:!0})}function initReveal(){const t=$$(".reveal");if(!t.length)return;const e=new IntersectionObserver(t=>{for(const n of t)n.isIntersecting&&(n.target.classList.add("is-visible"),e.unobserve(n.target))},{threshold:.14});t.forEach(t=>e.observe(t))}function initBackToTop(){const t=$("#to-top");if(!t)return;const e=()=>{const e=(window.scrollY||document.documentElement.scrollTop||0)>520;t.classList.toggle("is-visible",e)};t.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const n=rafThrottle(e);e(),window.addEventListener("scroll",n,{passive:!0}),window.addEventListener("resize",n,{passive:!0})}function initScrollPerfGuard(){let t=0,e=!1;window.addEventListener("scroll",()=>{e||(e=!0,document.body.classList.add("is-scrolling"),(()=>{if(window.EBFX&&(document.body.classList.contains("fx-on")||document.body.classList.contains("anime-on")))try{window.EBFX.stop(!1)}catch{}})()),t&&window.clearTimeout(t),t=window.setTimeout(()=>{e=!1,document.body.classList.remove("is-scrolling"),(()=>{if(window.EBFX&&(document.body.classList.contains("fx-on")||document.body.classList.contains("anime-on")))try{window.EBFX.start()}catch{}})()},140)},{passive:!0})}function initFooterYear(){const t=$("#current-year");t&&(t.textContent=String((new Date).getFullYear()))}function initContact(){$$("a[data-email]").forEach(t=>{t.setAttribute("href",`mailto:${CONTACT_EMAIL}`),t.textContent=CONTACT_EMAIL});const t=$("#copy-email");t&&t.addEventListener("click",async()=>{showToast(await copyToClipboard(CONTACT_EMAIL)?"tr"===currentLang?"E-posta kopyalandı.":"Email copied.":"tr"===currentLang?"Kopyalama başarısız.":"Copy failed.")});const e=$("#contact-form"),n=$("#contact-note");e&&e.addEventListener("submit",t=>{t.preventDefault();const a=new FormData(e),o=(a.get("name")||"").toString().trim(),s=(a.get("subject")||"").toString().trim(),i=(a.get("message")||"").toString().trim(),r=s?`Contact: ${s}`:"tr"===currentLang?`Portföy İletişim: ${o}`:`Portfolio Contact: ${o}`,c=[o?`Name: ${o}`:"",`Message:\n${i}`,"\n---","Sent from portfolio site."].filter(Boolean),l=`mailto:${CONTACT_EMAIL}?subject=${encodeURIComponent(r)}&body=${encodeURIComponent(c.join("\n"))}`;n&&(n.textContent="tr"===currentLang?"E-posta uygulaması açılıyor...":"Opening email client..."),window.location.href=l,showToast("tr"===currentLang?"Taslak oluşturuldu.":"Draft created.")})}function initCVDownload(){const t=$("#download-cv");t&&t.addEventListener("click",()=>{const t=BASE+"assets/cv/Ekrem_Bulgan_CV.pdf";window.open(t,"_blank"),showToast("tr"===currentLang?"CV açılıyor...":"Opening resume...")})}let __dynamicRerenders=[];function rerenderDynamic(){for(const t of __dynamicRerenders)try{t()}catch(t){}}function pillButton(t,e,n=!1){const a=document.createElement("button");return a.type="button",a.className="chip"+(n?" active":""),a.textContent="tr"===currentLang?t:e,a.dataset.tr=t,a.dataset.en=e,a}function renderTags(t=[]){const e=document.createElement("div");e.className="tags";for(const n of t){const t=document.createElement("span");t.className="tag",t.textContent=n,e.appendChild(t)}return e}let __projectsState={data:null,search:"",status:"all",category:"all",tag:null,sort:"featured"};function applyProjectFilters(t){const e=(__projectsState.search||"").toLowerCase().trim();let n=t.slice();return"all"!==__projectsState.status&&(n=n.filter(t=>(t.status&&t.status.code)===__projectsState.status)),"all"!==__projectsState.category&&(n=n.filter(t=>Array.isArray(t.category)&&t.category.map(String).includes(__projectsState.category))),__projectsState.tag&&(n=n.filter(t=>Array.isArray(t.tags)&&t.tags.map(String).includes(__projectsState.tag))),e&&(n=n.filter(t=>[t.name,langValue(t.summary),...t.tags||[],...t.category||[]].join(" ").toLowerCase().includes(e))),"az"===__projectsState.sort?n.sort((t,e)=>String(t.name).localeCompare(String(e.name))):"za"===__projectsState.sort?n.sort((t,e)=>String(e.name).localeCompare(String(t.name))):"featured"===__projectsState.sort&&n.sort((t,e)=>Number(Boolean(e.featured))-Number(Boolean(t.featured))),n}function projectCard(t){const e=document.createElement("article");e.className="card project-card reveal";const n=document.createElement("div");n.className="card-icon",n.innerHTML=`<i class="${t.icon||"fa-solid fa-layer-group"}"></i>`;const a=document.createElement("div");a.className="project-card__top";const o=document.createElement("h3");o.textContent=t.name||"Project";const s=document.createElement("span");s.className="status-pill "+(t.status&&t.status.code||""),s.textContent=langValue(t.status,""),a.appendChild(o),a.appendChild(s);const i=document.createElement("p");i.className="muted",i.textContent=langValue(t.summary,"");const r=document.createElement("div");r.className="meta-line",r.textContent=[langValue(t.type),langValue(t.platform)].filter(Boolean).join(" • ");const c=renderTags((t.tags||[]).slice(0,4)),l=document.createElement("div");l.className="card-actions";const d=document.createElement("a");if(d.className="btn btn-small btn-ghost",d.href=BASE+(t.detail||"#"),d.innerHTML=`<i class="fa-solid fa-file-lines"></i><span>${"tr"===currentLang?"Detaylar":"Details"}</span>`,l.appendChild(d),t.links&&t.links.releases){const e=document.createElement("a");e.className="btn btn-small btn-ghost",e.href=t.links.releases,e.target="_blank",e.rel="noopener",e.innerHTML='<i class="fa-solid fa-box"></i><span>Releases</span>',l.appendChild(e)}if(t.links&&t.links.github){const e=document.createElement("a");e.className="btn btn-small btn-primary",e.href=t.links.github,e.target="_blank",e.rel="noopener",e.innerHTML='<i class="fab fa-github"></i><span>GitHub</span>',l.appendChild(e)}return e.appendChild(n),e.appendChild(a),e.appendChild(r),e.appendChild(i),e.appendChild(c),e.appendChild(l),e}function renderProjects(){const t=$("#projects-grid"),e=$("#projects-empty"),n=$("#projects-count");if(!t||!__projectsState.data)return;const a=applyProjectFilters(__projectsState.data.projects||[]);t.innerHTML="",a.forEach(e=>t.appendChild(projectCard(e))),n&&(n.textContent=String(a.length)),e&&e.classList.toggle("is-visible",0===a.length),initReveal()}function syncProjectsUI(){const t=$("#project-search");t&&t.value!==__projectsState.search&&(t.value=__projectsState.search),$$(".chip[data-filter]").forEach(t=>{const e=t.dataset.filter,n=t.dataset.value,a="status"===e&&n===__projectsState.status||"category"===e&&n===__projectsState.category;t.classList.toggle("active",a)});const e=$("#active-tag");e&&(__projectsState.tag?(e.textContent=__projectsState.tag,e.classList.add("is-visible")):e.classList.remove("is-visible"));const n=$("#project-sort");n&&(n.value=__projectsState.sort)}async function initProjectsPage(){if(!$("#projects-app"))return;const t=await fetchJSON("assets/data/projects.json");if(!t||!t.projects)return;__projectsState.data=t;const e=new URLSearchParams(location.search||""),n=e.get("status"),a=e.get("category"),o=e.get("tag"),s=e.get("q");n&&(__projectsState.status=n),a&&(__projectsState.category=a),o&&(__projectsState.tag=o),s&&(__projectsState.search=s);const i=$("#project-search");i&&i.addEventListener("input",t=>{__projectsState.search=t.target.value||"",renderProjects()}),$$(".chip[data-filter]").forEach(t=>{t.addEventListener("click",()=>{const e=t.dataset.filter,n=t.dataset.value;"status"===e&&(__projectsState.status=n),"category"===e&&(__projectsState.category=n),renderProjects(),syncProjectsUI()})});const r=$("#clear-tag");r&&r.addEventListener("click",()=>{__projectsState.tag=null,renderProjects(),syncProjectsUI()});const c=$("#project-sort");c&&c.addEventListener("change",t=>{__projectsState.sort=t.target.value||"featured",renderProjects()});const l=$("#projects-grid");l&&l.addEventListener("click",t=>{const e=t.target&&t.target.classList&&t.target.classList.contains("tag")?t.target.textContent:null;e&&(__projectsState.tag=e,renderProjects(),syncProjectsUI(),showToast("tr"===currentLang?`Filtre: ${e}`:`Filter: ${e}`))}),__dynamicRerenders.push(()=>{syncProjectsUI(),renderProjects()}),syncProjectsUI(),renderProjects()}let __postsData=null;function postCard(t){const e=document.createElement("article");e.className="card post-card reveal";const n=document.createElement("div");n.className="post-card__top";const a=document.createElement("h3");a.textContent=langValue(t.title,"Post");const o=document.createElement("span");o.className="status-pill draft",o.textContent=t.draft?"tr"===currentLang?"Taslak":"Draft":"tr"===currentLang?"Yayın":"Published",n.appendChild(a),t.draft&&n.appendChild(o);const s=document.createElement("div");s.className="meta-line",s.textContent=[formatDate(t.date),langValue(t.readingTime)].filter(Boolean).join(" • ");const i=document.createElement("p");i.className="muted",i.textContent=langValue(t.summary,"");const r=renderTags((t.tags||[]).slice(0,4)),c=document.createElement("div");c.className="card-actions";const l=document.createElement("a");return l.className="btn btn-small btn-primary",l.href=BASE+(t.path||"#"),l.innerHTML=`<i class="fa-solid fa-book-open"></i><span>${"tr"===currentLang?"Oku":"Read"}</span>`,c.appendChild(l),e.appendChild(n),e.appendChild(s),e.appendChild(i),e.appendChild(r),e.appendChild(c),e}function renderPostsInto(t,e=null){const n=$(t);if(!n||!__postsData)return;const a=(__postsData.posts||[]).filter(t=>!t.draft).slice();a.sort((t,e)=>String(e.date||"").localeCompare(String(t.date||"")));const o=e?a.slice(0,e):a;if(n.innerHTML="",o.forEach(t=>n.appendChild(postCard(t))),"#posts-grid"===t){const t=$("#posts-count");t&&(t.textContent=String(a.length));const e=$("#posts-empty");e&&e.classList.toggle("is-visible",0===o.length)}initReveal()}async function initBlogPages(){const t=$("#blog-app"),e=$("#latest-writing");if(!t&&!e)return;const n=await fetchJSON("assets/data/posts.json");n&&n.posts&&(__postsData=n,t&&(__dynamicRerenders.push(()=>renderPostsInto("#posts-grid")),renderPostsInto("#posts-grid")),e&&(__dynamicRerenders.push(()=>renderPostsInto("#latest-writing",3)),renderPostsInto("#latest-writing",3)))}async function initSkillsWidget(){const t=$("#skills-app");if(!t)return;const e=await fetchJSON("assets/data/projects.json");if(!e||!e.projects)return;const n=e.projects,a=[{key:"Python",icon:"fab fa-python",tags:["Python"]},{key:"Computer Vision",icon:"fa-solid fa-eye",tags:["Computer Vision","AI"]},{key:"Desktop Apps",icon:"fa-solid fa-desktop",tags:["Desktop"]},{key:"Automation",icon:"fa-solid fa-gears",tags:["Automation","Workflow"]},{key:"Security",icon:"fa-solid fa-shield-halved",tags:["Security"]},{key:"Web",icon:"fa-solid fa-globe",tags:["Web"]}],o=$("#skills-grid",t),s=$("#skills-result",t);function i(t){const e=n.filter(e=>function(t,e){const n=(t.tags||[]).map(String);return e.tags.some(t=>n.includes(t))}(e,t));s.innerHTML="";const a=document.createElement("div");a.className="skills-result__head";const o=document.createElement("div");o.className="skills-result__title",o.textContent="tr"===currentLang?`İlgili projeler: ${t.key}`:`Related projects: ${t.key}`;const i=document.createElement("div");i.className="muted",i.textContent="tr"===currentLang?"Projeye gitmek için isimlere tıkla. (Projeler sayfasına filtreli geçiş yapar)":"Click a project to open it. (Also available as a filtered Projects view)",a.appendChild(o),a.appendChild(i);const r=document.createElement("div");r.className="skills-result__list",e.forEach(t=>{const e=document.createElement("a");e.className="mini-link",e.href=BASE+(t.detail||"#"),e.textContent=t.name,r.appendChild(e)});const c=document.createElement("div");c.className="card-actions";const l=document.createElement("a");l.className="btn btn-small btn-ghost",l.href=BASE+`projects.html?tag=${encodeURIComponent(t.tags[0]||t.key)}`,l.innerHTML=`<i class="fa-solid fa-filter"></i><span>${"tr"===currentLang?"Projeler sayfasında filtrele":"Open filtered Projects"}</span>`,c.appendChild(l),s.appendChild(a),s.appendChild(r),s.appendChild(c),s.scrollIntoView({behavior:"smooth",block:"nearest"})}o&&s&&(o.innerHTML="",a.forEach((t,e)=>{const n=document.createElement("button");n.type="button",n.className="skill-card",n.innerHTML=`<div class="skill-ic"><i class="${t.icon}"></i></div><div class="skill-t">${t.key}</div><div class="skill-d muted">${"tr"===currentLang?"Projelerle eşleştir":"Map to projects"}</div>`,n.addEventListener("click",()=>{$$(".skill-card",o).forEach(t=>t.classList.remove("active")),n.classList.add("active"),i(t)}),o.appendChild(n),0===e&&requestAnimationFrame(()=>{n.classList.add("active"),i(t)})}),__dynamicRerenders.push(()=>{const t=$(".skill-card.active",o),e=t?$$(".skill-card",o).indexOf(t):0;o.innerHTML="",a.forEach((t,n)=>{const a=document.createElement("button");a.type="button",a.className="skill-card"+(n==e?" active":""),a.innerHTML=`<div class="skill-ic"><i class="${t.icon}"></i></div><div class="skill-t">${t.key}</div><div class="skill-d muted">${"tr"===currentLang?"Projelerle eşleştir":"Map to projects"}</div>`,a.addEventListener("click",()=>{$$(".skill-card",o).forEach(t=>t.classList.remove("active")),a.classList.add("active"),i(t)}),o.appendChild(a)}),i(a[Math.max(0,e)])}))}function initTOC(){const t=$("#toc");if(!t)return;const e=$$(".panel[id]");if(!e.length)return;const n=document.createElement("div");n.className="toc-list";const a=[];e.forEach(t=>{const e=$(".panel-title",t)||$("h2",t)||$("h3",t);if(!e)return;const o=t.id,s=document.createElement("a");s.href=`#${o}`,s.textContent=e.textContent.trim(),s.className="toc-link",n.appendChild(s),a.push({id:o,el:t,link:s})}),t.innerHTML="";const o=document.createElement("div");o.className="toc-head",o.textContent="tr"===currentLang?"Bu sayfada":"On this page",t.appendChild(o),t.appendChild(n);const s=new IntersectionObserver(t=>{const e=t.filter(t=>t.isIntersecting).sort((t,e)=>e.intersectionRatio-t.intersectionRatio);if(!e.length)return;const n=e[0].target.id;a.forEach(t=>t.link.classList.toggle("active",t.id===n))},{rootMargin:"-20% 0px -72% 0px",threshold:[.1,.2,.3,.4,.5]});a.forEach(t=>s.observe(t.el)),__dynamicRerenders.push(()=>initTOC())}function initCopyLink(){const t=$("#copy-link");t&&t.addEventListener("click",async()=>{showToast(await copyToClipboard(location.href)?"tr"===currentLang?"Link kopyalandı.":"Link copied.":"tr"===currentLang?"Kopyalama başarısız.":"Copy failed.")})}let __fxState={fx:!1,anime:!1};function applyFxState(){document.body.classList.toggle("fx-on",__fxState.fx),document.body.classList.toggle("anime-on",__fxState.anime),localStorage.setItem(STORAGE.fx,__fxState.fx?"1":"0"),localStorage.setItem(STORAGE.anime,__fxState.anime?"1":"0");const t=$("#fx-btn");t&&t.classList.toggle("active",__fxState.fx);const e=$("#anime-btn");e&&e.classList.toggle("active",__fxState.anime),window.EBFX&&"function"==typeof window.EBFX.set&&window.EBFX.set({enabled:__fxState.fx,anime:__fxState.anime})}function setFx(t){__fxState.fx=!!t,__fxState.fx||(__fxState.anime=!1),applyFxState(),initImpactFx({prefersReduced:prefersReduced,saveData:saveData,isMobile:isMobile})}function setAnime(t){__fxState.anime=!!t,__fxState.anime&&(__fxState.fx=!0),applyFxState()}function initEffects(){const t=localStorage.getItem(STORAGE.fx),e=localStorage.getItem(STORAGE.anime),n=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,a=navigator.connection&&navigator.connection.saveData,o=window.matchMedia&&window.matchMedia("(max-width: 820px)").matches,s=!(n||a||o);__fxState.fx=null!=t?"1"===t:s,__fxState.anime=null!=e&&"1"===e,__fxState.anime&&(__fxState.fx=!0);const i=$("#fx-btn");i&&i.addEventListener("click",()=>setFx(!__fxState.fx));const r=$("#anime-btn");r&&r.addEventListener("click",()=>setAnime(!__fxState.anime));const c=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)");c&&c.addEventListener&&c.addEventListener("change",()=>{c.matches&&setFx(!1)}),applyFxState()}let __impactListenerAttached=!1;function spawnImpactRing(t,e){const n=document.createElement("div");n.className="impact-ring",n.style.left=`${t}px`,n.style.top=`${e}px`;const a=getComputedStyle(document.body).getPropertyValue("--primary").trim();a&&(n.style.borderColor=a),document.body.appendChild(n),window.setTimeout(()=>{try{n.remove()}catch{}},700)}function initImpactFx({prefersReduced:t,saveData:e,isMobile:n}){if(__impactListenerAttached)return;__impactListenerAttached=!0;document.addEventListener("pointerdown",a=>{if(null!=a.button&&0!==a.button)return;const o=a.target;o&&o.closest&&o.closest('input, textarea, select, button, a, [role="button"]')||t||e||n||!document.body.classList.contains("anime-on")||document.body.classList.contains("is-scrolling")||spawnImpactRing(a.clientX,a.clientY)},{passive:!0})}let __typeTimer=null;function stopTypewriter(){__typeTimer&&(window.clearTimeout(__typeTimer),__typeTimer=null)}function initTypewriter(){const t=$("#typewriter");if(!t)return;t.dataset.twBound||(t.dataset.twBound="1",__dynamicRerenders.push(()=>initTypewriter()));const e=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,n=(t.getAttribute("data-lines-tr")||"").split("|").map(t=>t.trim()).filter(Boolean),a=(t.getAttribute("data-lines-en")||"").split("|").map(t=>t.trim()).filter(Boolean),o="tr"===currentLang?n.length?n:a:a.length?a:n;if(stopTypewriter(),e)return void(t.textContent=o[0]||"");if(!o.length)return;let s=0,i=0,r=!1;!function e(){const n=o[s]||"";return r?(i--,t.textContent=n.slice(0,Math.max(0,i)),i<=0?(r=!1,s=(s+1)%o.length,void(__typeTimer=window.setTimeout(e,260))):void(__typeTimer=window.setTimeout(e,22))):(i++,t.textContent=n.slice(0,i),i>=n.length?(r=!0,void(__typeTimer=window.setTimeout(e,900))):void(__typeTimer=window.setTimeout(e,34)))}()}async function init(){const t=localStorage.getItem(STORAGE.lang),e=(navigator.language||"").toLowerCase().startsWith("tr")?"tr":"en";setLanguage(t||document.documentElement.lang||e),initLanguage();const n=localStorage.getItem(STORAGE.theme),a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches;setTheme(n||(a?"light":"dark")),initTheme(),initEffects(),initTypewriter(),initNav(),setActiveNav(),initScrollProgress(),initScrollPerfGuard(),initReveal(),initBackToTop(),initFooterYear(),initContact(),initCVDownload(),initCopyLink(),initTOC(),await Promise.all([initProjectsPage(),initBlogPages(),initSkillsWidget()]),console.log("Portfolio initialized.")}document.addEventListener("DOMContentLoaded",init);